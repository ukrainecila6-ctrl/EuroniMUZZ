<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<header class="top-nav">
  <a href="{{ url_for('home') }}" class="nav-logo">üéµ EuroniMUZZ</a>
  <nav>
    <a href="{{ url_for('index') }}" class="nav-link">–ü–æ–∏—Å–∫</a>
    <a href="{{ url_for('recommend') }}" class="nav-link active">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a>
  </nav>
</header>

<div class="container">
  <!-- –§–æ—Ä–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å –≤—ã–±–æ—Ä–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ -->
  <form method="POST" class="search-form">
    <label>–ñ–∞–Ω—Ä:
      <select name="genre">
        <option value="pop">–ü–æ–ø</option>
        <option value="rock">–†–æ–∫</option>
        <option value="hip hop">–•–∏–ø —Ö–æ–ø</option>
        <option value="electronic">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
        <option value="classical">–ö–ª–∞—Å—Å–∏–∫–∞</option>
        <option value="jazz">–î–∂–∞–∑</option>
        <option value="metal">–ú–µ—Ç–∞–ª</option>
      </select>
    </label>
    <label>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:
      <select name="mood">
        <option value="happy">–°—á–∞—Å—Ç–ª–∏–≤–æ–µ</option>
        <option value="sad">–ì—Ä—É—Å—Ç–Ω–æ–µ</option>
        <option value="romantic">–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ</option>
        <option value="calm">–°–ø–æ–∫–æ–π–Ω–æ–µ</option>
        <option value="energetic">–≠–Ω–µ—Ä–≥–∏—á–Ω–æ–µ</option>
        <option value="angry">–†–∞–∑–¥—Ä–∞–∂–µ–Ω–Ω–æ–µ</option>
      </select>
    </label>
    <label>–ó–∞–Ω—è—Ç–∏–µ:
      <select name="activity">
        <option value="relaxing">–û—Ç–¥—ã—Ö</option>
        <option value="studying">–£—á—ë–±–∞</option>
        <option value="driving">–ó–∞ —Ä—É–ª—ë–º</option>
        <option value="training">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</option>
        <option value="cleaning">–£–±–æ—Ä–∫–∞</option>
        <option value="party">–ù–∞ –≤–µ—á–µ—Ä–∏–Ω–∫–µ</option>
      </select>
    </label>
    <label>–ö–æ—Ç–æ—Ä—ã–π —á–∞—Å?:
      <select name="time">
        <option value="morning">–£—Ç—Ä–æ</option>
        <option value="day">–î–µ–Ω—å</option>
        <option value="evening">–í–µ—á–µ—Ä</option>
        <option value="night">–ù–æ—á—å</option>
      </select>
    </label>
    <label>–ò–∑ –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –º—É–∑—ã–∫—É?:
      <select name="region">
        <option value="us">–°–®–ê</option>
        <option value="ru">–†–æ—Å—Å–∏—è</option>
        <option value="gb">–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è</option>
        <option value="de">–ì–µ—Ä–º–∞–Ω–∏—è</option>
        <option value="fr">–§—Ä–∞–Ω—Ü–∏—è</option>
        <option value="jp">–Ø–ø–æ–Ω–∏—è</option>
        <option value="kr">–ö–æ—Ä–µ—è</option>
      </select>
    </label>
    <label> –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å:
      <select name="purpose">
        <option value="alone">–û–¥–∏–Ω</option>
        <option value="friends">–í –∫–æ–º–ø–∞–Ω–∏–∏</option>
      </select>
    </label>
    <button type="submit" class="big-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∫–µ—Ç—É</button>
  </form>

  {% if recommendations %}
  <div class="results">
    {% for t in recommendations %}
    <div class="card" data-preview="{{ t.previewUrl }}" data-title="{{ t.trackName }}" data-artist="{{ t.artistName }}" data-artwork="{{ t.artwork }}">
      <img src="{{ t.artwork }}" alt="cover">
      <div class="meta">
        <strong>{{ t.trackName }}</strong><br>
        <span>{{ t.artistName }}</span>
      </div>
      {% if t.previewUrl %}
      <button class="play-btn">‚ñ∂</button>
      {% else %}
      <button class="play-btn disabled" disabled>‚õî</button>
      {% endif %}
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>

<footer class="player-bar hidden" id="player-container">
  <button id="prev-track">‚èÆ</button>
  <button id="playpause">‚ñ∂</button>
  <button id="next-track">‚è≠</button>
  <img id="player-art" src="" alt="">
  <div class="info">
    <div id="player-title">‚Äî</div>
    <div id="player-artist" class="muted">‚Äî</div>
    <div class="progress-container">
      <span id="current-time">0:00</span>
      <input type="range" id="progress" value="0" min="0" step="1">
      <span id="duration">0:00</span>
    </div>
  </div>
  <audio id="audio" preload="metadata"></audio>
</footer>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
