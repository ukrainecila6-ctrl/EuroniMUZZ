{% extends "base.html" %}
{% block content %}
<section class="hero-card">
  <div>
    <h2>Добро пожаловать в EuroniMUZZ</h2>
    <p class="lead">Ищите музыку, получайте персональные подборки и сохраняйте свои предпочтения — всё в одном месте.</p>
    <div class="hero-actions">
      <a class="btn" href="{{ url_for('search') }}">Поиск треков</a>
      <a class="btn" href="{{ url_for('recommend') }}">Получить рекомендации</a>
    </div>
  </div>

  <div class="hero-features">
    <div class="feature">
      <h3>Персональные подборки</h3>
      <p>Система запоминает ваши предпочтения через cookie и подбирает музыку под ваш вкус.</p>
    </div>
    <div class="feature">
      <h3>Умный плеер</h3>
      <p>Плеер появляется снизу и играет превью треков прямо на сайте.</p>
    </div>
    <div class="feature">
      <h3>Современный интерфейс</h3>
      <p>Адаптивный дизайн и удобная анкета для точных рекомендаций.</p>
    </div>
  </div>
</section>

{% if personal_recs %}
<section>
  <h3>Подборка для вас (на основе истории)</h3>
  <ul class="results-grid">
    {% for s in personal_recs %}
      <li class="track-item" data-preview="{{ s.previewUrl }}" data-title="{{ s.trackName }}" data-artist="{{ s.artistName }}" data-cover="{{ s.artworkUrl100 }}">
        <img class="cover" src="{{ s.artworkUrl100 }}" alt="{{ s.trackName }}">
        <div class="meta"><strong>{{ s.trackName }}</strong><span>{{ s.artistName }}</span></div>
        <button class="play-btn">▶ Слушать</button>
      </li>
    {% endfor %}
  </ul>
</section>
{% endif %}
{% endblock %}
